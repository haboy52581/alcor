openstack server add port vmtest 3fa6782e-2315-4420-b7ca-1691f129594a --debug
START with options: server add port vmtest 3fa6782e-2315-4420-b7ca-1691f129594a --debug
options: Namespace(access_token='***', access_token_endpoint='', access_token_type='', aodh_endpoint='', application_credential_id='', application_credential_name='', application_credential_secret='***', auth_methods='', auth_type='password', auth_url='http://192.168.1.10:5000/v3', cacert=None, cert='', client_id='', client_secret='***', cloud='', code='', debug=True, default_domain='default', default_domain_id='', default_domain_name='', deferred_help=False, discovery_endpoint='', domain_id='', domain_name='', endpoint='', glare_url='', identity_provider='', insecure=None, inspector_api_version='1', inspector_url=None, interface='internalURL', key='', log_file=None, murano_packages_service='murano', murano_url='', openid_client_id='', openid_scope='', os_alarming_api_version='2', os_application_catalog_api_version='1', os_artifact_api_version='', os_baremetal_api_version='1.58', os_beta_command=False, os_clustering_api_version='1', os_compute_api_version='', os_container_api_version='1', os_container_infra_api_version='1', os_data_processing_api_version='1.1', os_data_processing_url='', os_data_protection_api_version='1', os_database_api_version='1', os_dns_api_version='2', os_function_engine_api_version='1', os_ha_api_version='1.1', os_identity_api_version='3', os_image_api_version='', os_infra_optim_api_version='1.2', os_key_manager_api_version='1', os_loadbalancer_api_version='2.0', os_metrics_api_version='1', os_network_api_version='', os_object_api_version='', os_orchestration_api_version='1', os_placement_api_version='1.0', os_policy_api_version='1', os_project_id=None, os_project_name=None, os_queues_api_version='2', os_rca_api_version='1', os_search_api_version='1', os_sync_api_version='1', os_tacker_api_version='1', os_volume_api_version='', os_workflow_api_version='2', passcode='', password='***', profile='', project_domain_id='', project_domain_name='Default', project_id='', project_name='admin', protocol='', qinling_url='', realm_name='', redirect_uri='', region_name='RegionOne', remote_project_domain_id='', remote_project_domain_name='', remote_project_id='', remote_project_name='', roles='', rsd_api_version='2.3', rsd_password='***', rsd_url='https://localhost:8443/redfish/v1/', rsd_username='admin', rsd_verify='True', service_provider='', system_scope='', timing=False, token='***', trust_id='', user='', user_domain_id='', user_domain_name='Default', user_id='', username='admin', verbose_level=3, verify=None)
Auth plugin password selected
auth_config_hook(): {'api_timeout': None, 'verify': True, 'cacert': None, 'cert': None, 'key': None, 'baremetal_status_code_retries': '5', 'baremetal_introspection_status_code_retries': '5', 'image_status_code_retries': '5', 'disable_vendor_agent': {}, 'interface': 'internalURL', 'floating_ip_source': 'neutron', 'image_api_use_tasks': False, 'image_format': 'qcow2', 'message': '', 'network_api_version': '2', 'object_store_api_version': '1', 'secgroup_source': 'neutron', 'status': 'active', 'auth': {'user_domain_name': 'Default', 'project_domain_name': 'Default', 'project_name': 'admin'}, 'verbose_level': 3, 'deferred_help': False, 'debug': True, 'region_name': 'RegionOne', 'default_domain': 'default', 'timing': False, 'rsd_api_version': '2.3', 'rsd_url': 'https://localhost:8443/redfish/v1/', 'rsd_username': 'admin', 'rsd_password': '***', 'rsd_verify': 'True', 'murano_packages_service': 'murano', 'inspector_api_version': '1', 'auth_url': 'http://192.168.1.10:5000/v3', 'username': 'admin', 'password': '***', 'beta_command': False, 'identity_api_version': '3', 'container_api_version': '1', 'queues_api_version': '2', 'infra_optim_api_version': '1.2', 'rca_api_version': '1', 'database_api_version': '1', 'tacker_api_version': '1', 'clustering_api_version': '1', 'search_api_version': '1', 'data_processing_api_version': '1.1', 'function_engine_api_version': '1', 'loadbalancer_api_version': '2.0', 'application_catalog_api_version': '1', 'workflow_api_version': '2', 'ha_api_version': '1.1', 'container_infra_api_version': '1', 'sync_api_version': '1', 'data_protection_api_version': '1', 'baremetal_api_version': '1.58', 'orchestration_api_version': '1', 'dns_api_version': '2', 'policy_api_version': '1', 'key_manager_api_version': '1', 'placement_api_version': '1.0', 'metrics_api_version': '1', 'alarming_api_version': '2', 'auth_type': 'password', 'networks': []}
defaults: {'api_timeout': None, 'verify': True, 'cacert': None, 'cert': None, 'key': None, 'auth_type': 'password', 'baremetal_status_code_retries': 5, 'baremetal_introspection_status_code_retries': 5, 'image_status_code_retries': 5, 'disable_vendor_agent': {}, 'interface': None, 'floating_ip_source': 'neutron', 'image_api_use_tasks': False, 'image_format': 'qcow2', 'message': '', 'network_api_version': '2', 'object_store_api_version': '1', 'secgroup_source': 'neutron', 'status': 'active'}
cloud cfg: {'api_timeout': None, 'verify': True, 'cacert': None, 'cert': None, 'key': None, 'baremetal_status_code_retries': '5', 'baremetal_introspection_status_code_retries': '5', 'image_status_code_retries': '5', 'disable_vendor_agent': {}, 'interface': 'internalURL', 'floating_ip_source': 'neutron', 'image_api_use_tasks': False, 'image_format': 'qcow2', 'message': '', 'network_api_version': '2', 'object_store_api_version': '1', 'secgroup_source': 'neutron', 'status': 'active', 'auth': {'user_domain_name': 'Default', 'project_domain_name': 'Default', 'project_name': 'admin'}, 'verbose_level': 3, 'deferred_help': False, 'debug': True, 'region_name': 'RegionOne', 'default_domain': 'default', 'timing': False, 'rsd_api_version': '2.3', 'rsd_url': 'https://localhost:8443/redfish/v1/', 'rsd_username': 'admin', 'rsd_password': '***', 'rsd_verify': 'True', 'murano_packages_service': 'murano', 'inspector_api_version': '1', 'auth_url': 'http://192.168.1.10:5000/v3', 'username': 'admin', 'password': '***', 'beta_command': False, 'identity_api_version': '3', 'container_api_version': '1', 'queues_api_version': '2', 'infra_optim_api_version': '1.2', 'rca_api_version': '1', 'database_api_version': '1', 'tacker_api_version': '1', 'clustering_api_version': '1', 'search_api_version': '1', 'data_processing_api_version': '1.1', 'function_engine_api_version': '1', 'loadbalancer_api_version': '2.0', 'application_catalog_api_version': '1', 'workflow_api_version': '2', 'ha_api_version': '1.1', 'container_infra_api_version': '1', 'sync_api_version': '1', 'data_protection_api_version': '1', 'baremetal_api_version': '1.58', 'orchestration_api_version': '1', 'dns_api_version': '2', 'policy_api_version': '1', 'key_manager_api_version': '1', 'placement_api_version': '1.0', 'metrics_api_version': '1', 'alarming_api_version': '2', 'auth_type': 'password', 'networks': []}
compute API version 2.1, cmd group openstack.compute.v2
identity API version 3, cmd group openstack.identity.v3
image API version 2, cmd group openstack.image.v2
network API version 2, cmd group openstack.network.v2
object_store API version 1, cmd group openstack.object_store.v1
volume API version 3, cmd group openstack.volume.v3
container API version 1, cmd group openstack.container.v1
messaging API version 2, cmd group openstack.messaging.v2
infra-optim API version 1.2, cmd group openstack.infra_optim.v1
rca API version 1, cmd group openstack.rca.v1
database API version 1, cmd group openstack.database.v1
tackerclient API version 1, cmd group openstack.tackerclient.v1
clustering API version 1, cmd group openstack.clustering.v1
search API version 1, cmd group openstack.search.v1
data_processing API version 1.1, cmd group openstack.data_processing.v1
rsd API version 2.3, cmd group openstack.rsd.v2
function_engine API version 1, cmd group openstack.function_engine.v1
load_balancer API version 2.0, cmd group openstack.load_balancer.v2
neutronclient API version 2, cmd group openstack.neutronclient.v2
application_catalog API version 1, cmd group openstack.application_catalog.v1
workflow_engine API version 2, cmd group openstack.workflow_engine.v2
ha API version 1.1, cmd group openstack.ha.v1
container_infra API version 1, cmd group openstack.container_infra.v1
sync_engine API version 1, cmd group openstack.sync_engine.v1
data_protection API version 1, cmd group openstack.data_protection.v1
baremetal API version 1.58, cmd group openstack.baremetal.v1
baremetal_introspection API version 1, cmd group openstack.baremetal_introspection.v1
orchestration API version 1, cmd group openstack.orchestration.v1
artifact API version 1, cmd group openstack.artifact.v1
dns API version 2, cmd group openstack.dns.v2
congressclient API version 1, cmd group openstack.congressclient.v1
key_manager API version 1, cmd group openstack.key_manager.v1
placement API version 1.0, cmd group openstack.placement.v1
metric API version 1, cmd group openstack.metric.v1
alarming API version 2, cmd group openstack.alarming.v2
Auth plugin password selected
auth_config_hook(): {'api_timeout': None, 'verify': True, 'cacert': None, 'cert': None, 'key': None, 'baremetal_status_code_retries': '5', 'baremetal_introspection_status_code_retries': '5', 'image_status_code_retries': '5', 'disable_vendor_agent': {}, 'interface': 'internalURL', 'floating_ip_source': 'neutron', 'image_api_use_tasks': False, 'image_format': 'qcow2', 'message': '', 'network_api_version': '2', 'object_store_api_version': '1', 'secgroup_source': 'neutron', 'status': 'active', 'auth': {'user_domain_name': 'Default', 'project_domain_name': 'Default', 'project_name': 'admin'}, 'verbose_level': 3, 'deferred_help': False, 'debug': True, 'region_name': 'RegionOne', 'default_domain': 'default', 'timing': False, 'rsd_api_version': '2.3', 'rsd_url': 'https://localhost:8443/redfish/v1/', 'rsd_username': 'admin', 'rsd_password': '***', 'rsd_verify': 'True', 'murano_packages_service': 'murano', 'inspector_api_version': '1', 'auth_url': 'http://192.168.1.10:5000/v3', 'username': 'admin', 'password': '***', 'beta_command': False, 'identity_api_version': '3', 'container_api_version': '1', 'queues_api_version': '2', 'infra_optim_api_version': '1.2', 'rca_api_version': '1', 'database_api_version': '1', 'tacker_api_version': '1', 'clustering_api_version': '1', 'search_api_version': '1', 'data_processing_api_version': '1.1', 'function_engine_api_version': '1', 'loadbalancer_api_version': '2.0', 'application_catalog_api_version': '1', 'workflow_api_version': '2', 'ha_api_version': '1.1', 'container_infra_api_version': '1', 'sync_api_version': '1', 'data_protection_api_version': '1', 'baremetal_api_version': '1.58', 'orchestration_api_version': '1', 'dns_api_version': '2', 'policy_api_version': '1', 'key_manager_api_version': '1', 'placement_api_version': '1.0', 'metrics_api_version': '1', 'alarming_api_version': '2', 'auth_type': 'password', 'networks': []}
command: server add port -> openstackclient.compute.v2.server.AddPort (auth=True)
Auth plugin password selected
auth_config_hook(): {'api_timeout': None, 'verify': True, 'cacert': None, 'cert': None, 'key': None, 'baremetal_status_code_retries': '5', 'baremetal_introspection_status_code_retries': '5', 'image_status_code_retries': '5', 'disable_vendor_agent': {}, 'interface': 'internalURL', 'floating_ip_source': 'neutron', 'image_api_use_tasks': False, 'image_format': 'qcow2', 'message': '', 'network_api_version': '2', 'object_store_api_version': '1', 'secgroup_source': 'neutron', 'status': 'active', 'auth': {'user_domain_name': 'Default', 'project_domain_name': 'Default', 'project_name': 'admin'}, 'additional_user_agent': [('osc-lib', '1.14.1')], 'verbose_level': 3, 'deferred_help': False, 'debug': True, 'region_name': 'RegionOne', 'default_domain': 'default', 'timing': False, 'rsd_api_version': '2.3', 'rsd_url': 'https://localhost:8443/redfish/v1/', 'rsd_username': 'admin', 'rsd_password': '***', 'rsd_verify': 'True', 'murano_packages_service': 'murano', 'inspector_api_version': '1', 'auth_url': 'http://192.168.1.10:5000/v3', 'username': 'admin', 'password': '***', 'beta_command': False, 'identity_api_version': '3', 'container_api_version': '1', 'queues_api_version': '2', 'infra_optim_api_version': '1.2', 'rca_api_version': '1', 'database_api_version': '1', 'tacker_api_version': '1', 'clustering_api_version': '1', 'search_api_version': '1', 'data_processing_api_version': '1.1', 'function_engine_api_version': '1', 'loadbalancer_api_version': '2.0', 'application_catalog_api_version': '1', 'workflow_api_version': '2', 'ha_api_version': '1.1', 'container_infra_api_version': '1', 'sync_api_version': '1', 'data_protection_api_version': '1', 'baremetal_api_version': '1.58', 'orchestration_api_version': '1', 'dns_api_version': '2', 'policy_api_version': '1', 'key_manager_api_version': '1', 'placement_api_version': '1.0', 'metrics_api_version': '1', 'alarming_api_version': '2', 'auth_type': 'password', 'networks': []}
Using auth plugin: password
Using parameters {'auth_url': 'http://192.168.1.10:5000/v3', 'project_name': 'admin', 'project_domain_name': 'Default', 'username': 'admin', 'user_domain_name': 'Default', 'password': '***'}
Get auth_ref
REQ: curl -g -i -X GET http://192.168.1.10:5000/v3 -H "Accept: application/json" -H "User-Agent: openstacksdk/0.36.3 keystoneauth1/3.17.2 python-requests/2.22.0 CPython/3.6.9"
Starting new HTTP connection (1): 192.168.1.10:5000
http://192.168.1.10:5000 "GET /v3 HTTP/1.1" 200 252
RESP: [200] Connection: close Content-Length: 252 Content-Security-Policy: default-src 'self' https: wss:; Content-Type: application/json Date: Thu, 23 Jul 2020 23:50:04 GMT Server: nginx/1.14.0 (Ubuntu) Vary: X-Auth-Token X-Content-Type-Options: nosniff X-Frame-Options: DENY X-XSS-Protection: 1; mode=block x-openstack-request-id: req-fd7aef8f-14a6-4c89-bfb8-3d829b8c90e6
RESP BODY: {"version": {"id": "v3.13", "status": "stable", "updated": "2019-07-19T00:00:00Z", "links": [{"rel": "self", "href": "http://192.168.1.10:5000/v3/"}], "media-types": [{"base": "application/json", "type": "application/vnd.openstack.identity-v3+json"}]}}
GET call to http://192.168.1.10:5000/v3 used request id req-fd7aef8f-14a6-4c89-bfb8-3d829b8c90e6
Making authentication request to http://192.168.1.10:5000/v3/auth/tokens
Resetting dropped connection: 192.168.1.10
http://192.168.1.10:5000 "POST /v3/auth/tokens HTTP/1.1" 201 6103
{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "b365dc4d276a4e588cb692d71199d390", "name": "admin", "password_expires_at": null}, "audit_ids": ["tAqi1FlURaqKoYpi3eyLuQ"], "expires_at": "2020-07-24T11:50:04.000000Z", "issued_at": "2020-07-23T23:50:04.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "f282163e069840d08da907661a2ce609", "name": "admin"}, "is_domain": false, "roles": [{"id": "36a151f6528b456fa4f951fd31c79a0c", "name": "admin"}, {"id": "243c00b1684e4248bb2bca5a3c1f6348", "name": "member"}, {"id": "e9a70d4336904e86b8c4de4d2a932eff", "name": "reader"}], "catalog": [{"endpoints": [{"id": "655f59f4e02947b6a49dfc4e557e4192", "interface": "public", "region_id": "RegionOne", "url": "https://10.213.43.158:8000/v1", "region": "RegionOne"}, {"id": "9a1219b93cba4848be95bb0bab27b732", "interface": "admin", "region_id": "RegionOne", "url": "http://192.168.1.10:8000/v1", "region": "RegionOne"}, {"id": "de54bba7f22a4b69b32b91c424ee30da", "interface": "internal", "region_id": "RegionOne", "url": "http://192.168.1.10:8000/v1", "region": "RegionOne"}], "id": "066723e0717d4f60a5fe699797dc579f", "type": "cloudformation", "name": "heat-cfn"}, {"endpoints": [{"id": "3d99ab344a3d4ef4bea89810eaab5b51", "interface": "internal", "region_id": "RegionOne", "url": "http://192.168.1.10:8004/v1/f282163e069840d08da907661a2ce609", "region": "RegionOne"}, {"id": "87bb1b6a72e2471ca1a35d1e2b4b6be0", "interface": "public", "region_id": "RegionOne", "url": "https://10.213.43.158:8004/v1/f282163e069840d08da907661a2ce609", "region": "RegionOne"}, {"id": "c19bd6227f544670bcead0513636efad", "interface": "admin", "region_id": "RegionOne", "url": "http://192.168.1.10:8004/v1/f282163e069840d08da907661a2ce609", "region": "RegionOne"}], "id": "2665859148c34e648e74842031013387", "type": "orchestration", "name": "heat"}, {"endpoints": [{"id": "5e2b35e8a49a46d6b13bff65b8e7aa95", "interface": "internal", "region_id": "RegionOne", "url": "http://192.168.1.10:8776/v3/f282163e069840d08da907661a2ce609", "region": "RegionOne"}, {"id": "b9e177c8435f4c70ba3ed7fcc8ef8e05", "interface": "admin", "region_id": "RegionOne", "url": "http://192.168.1.10:8776/v3/f282163e069840d08da907661a2ce609", "region": "RegionOne"}, {"id": "c76a8dd1dfb74b009bb7cf523ecbd465", "interface": "public", "region_id": "RegionOne", "url": "https://10.213.43.158:8776/v3/f282163e069840d08da907661a2ce609", "region": "RegionOne"}], "id": "3acd20f57cbc4cd085e2377af0a36808", "type": "volumev3", "name": "cinderv3"}, {"endpoints": [{"id": "2a3b2885ea104489bf908bce857a9db7", "interface": "admin", "region_id": "RegionOne", "url": "http://192.168.1.10:9292", "region": "RegionOne"}, {"id": "89a33ec8910d4b33b5064a9a06bd50db", "interface": "internal", "region_id": "RegionOne", "url": "http://192.168.1.10:9292", "region": "RegionOne"}, {"id": "a0d74e9cf7e94c20a731c34b50616a30", "interface": "public", "region_id": "RegionOne", "url": "https://10.213.43.158:9292", "region": "RegionOne"}], "id": "49e4e2d913374483a049198ee0caf8aa", "type": "image", "name": "glance"}, {"endpoints": [{"id": "3b54a2b678034122a4de8e1955074764", "interface": "public", "region_id": "RegionOne", "url": "https://10.213.43.158:8780", "region": "RegionOne"}, {"id": "b268c5e4e3fb4f6ca34acd525fb2fa76", "interface": "admin", "region_id": "RegionOne", "url": "http://192.168.1.10:8780", "region": "RegionOne"}, {"id": "fba23519a9a146fc873bbb8c2244b8fd", "interface": "internal", "region_id": "RegionOne", "url": "http://192.168.1.10:8780", "region": "RegionOne"}], "id": "7ca23b136aa045b18ec54598b5c204c6", "type": "placement", "name": "placement"}, {"endpoints": [], "id": "934485445b4f4206bcfda0d8107f5b81", "type": "network2", "name": "neutron"}, {"endpoints": [{"id": "28b908714dfd473f98f5a53b89f3c57e", "interface": "internal", "region_id": "RegionOne", "url": "http://192.168.1.10:5000", "region": "RegionOne"}, {"id": "2f91e3268b4745209c5130c35eb86ce8", "interface": "admin", "region_id": "RegionOne", "url": "http://192.168.1.10:5000", "region": "RegionOne"}, {"id": "52282c7a0ca5490e8a51966055a2a15d", "interface": "public", "region_id": "RegionOne", "url": "https://10.213.43.158:5000", "region": "RegionOne"}], "id": "b27d8c5e6ac84841a17137628bdf5201", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "25e595a917674760b3c23983dbb024f4", "interface": "public", "region_id": "RegionOne", "url": "http://10.213.43.161:30004", "region": "RegionOne"}, {"id": "49b8f63473204d3ca9244f0325148f31", "interface": "internal", "region_id": "RegionOne", "url": "http://10.213.43.161:30004", "region": "RegionOne"}, {"id": "a1185298671044af9cdc80a2e09ab9a9", "interface": "admin", "region_id": "RegionOne", "url": "http://10.213.43.161:30004", "region": "RegionOne"}], "id": "b59a226254af40bbbd60891fe07b6e18", "type": "network", "name": "alcor"}, {"endpoints": [{"id": "87e56fe09b59417f9de160253d9e66d6", "interface": "internal", "region_id": "RegionOne", "url": "http://192.168.1.10:8774/v2.1", "region": "RegionOne"}, {"id": "a4970d68890e43ddba91b0a07736a999", "interface": "public", "region_id": "RegionOne", "url": "https://10.213.43.158:8774/v2.1", "region": "RegionOne"}, {"id": "dd24fed5954e495fbd283add3c4c90f5", "interface": "admin", "region_id": "RegionOne", "url": "http://192.168.1.10:8774/v2.1", "region": "RegionOne"}], "id": "be70f52297614ac5bb4fe6e240ad2b3e", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "07735c63f1084064b7580265c0f08b7c", "interface": "admin", "region_id": "RegionOne", "url": "http://192.168.1.10:8776/v2/f282163e069840d08da907661a2ce609", "region": "RegionOne"}, {"id": "613e9437846b4dcc8c8138cbd48840f7", "interface": "public", "region_id": "RegionOne", "url": "https://10.213.43.158:8776/v2/f282163e069840d08da907661a2ce609", "region": "RegionOne"}, {"id": "7b2ad9e62b2245cf96d8101ee81842cf", "interface": "internal", "region_id": "RegionOne", "url": "http://192.168.1.10:8776/v2/f282163e069840d08da907661a2ce609", "region": "RegionOne"}], "id": "c63ff4254d7c4906a7e33f37b3ef73b2", "type": "volumev2", "name": "cinderv2"}]}}
run(Namespace(port='3fa6782e-2315-4420-b7ca-1691f129594a', server='vmtest'))
Instantiating compute client for API Version Major: 2, Minor: 1
Instantiating compute api: <class 'openstackclient.api.compute_v2.APIv2'>
Making authentication request to http://192.168.1.10:5000/v3/auth/tokens
Resetting dropped connection: 192.168.1.10
http://192.168.1.10:5000 "POST /v3/auth/tokens HTTP/1.1" 201 6103
{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "b365dc4d276a4e588cb692d71199d390", "name": "admin", "password_expires_at": null}, "audit_ids": ["H00hl423SGaCDprK9R-AQg"], "expires_at": "2020-07-24T11:50:05.000000Z", "issued_at": "2020-07-23T23:50:05.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "f282163e069840d08da907661a2ce609", "name": "admin"}, "is_domain": false, "roles": [{"id": "36a151f6528b456fa4f951fd31c79a0c", "name": "admin"}, {"id": "243c00b1684e4248bb2bca5a3c1f6348", "name": "member"}, {"id": "e9a70d4336904e86b8c4de4d2a932eff", "name": "reader"}], "catalog": [{"endpoints": [{"id": "655f59f4e02947b6a49dfc4e557e4192", "interface": "public", "region_id": "RegionOne", "url": "https://10.213.43.158:8000/v1", "region": "RegionOne"}, {"id": "9a1219b93cba4848be95bb0bab27b732", "interface": "admin", "region_id": "RegionOne", "url": "http://192.168.1.10:8000/v1", "region": "RegionOne"}, {"id": "de54bba7f22a4b69b32b91c424ee30da", "interface": "internal", "region_id": "RegionOne", "url": "http://192.168.1.10:8000/v1", "region": "RegionOne"}], "id": "066723e0717d4f60a5fe699797dc579f", "type": "cloudformation", "name": "heat-cfn"}, {"endpoints": [{"id": "3d99ab344a3d4ef4bea89810eaab5b51", "interface": "internal", "region_id": "RegionOne", "url": "http://192.168.1.10:8004/v1/f282163e069840d08da907661a2ce609", "region": "RegionOne"}, {"id": "87bb1b6a72e2471ca1a35d1e2b4b6be0", "interface": "public", "region_id": "RegionOne", "url": "https://10.213.43.158:8004/v1/f282163e069840d08da907661a2ce609", "region": "RegionOne"}, {"id": "c19bd6227f544670bcead0513636efad", "interface": "admin", "region_id": "RegionOne", "url": "http://192.168.1.10:8004/v1/f282163e069840d08da907661a2ce609", "region": "RegionOne"}], "id": "2665859148c34e648e74842031013387", "type": "orchestration", "name": "heat"}, {"endpoints": [{"id": "5e2b35e8a49a46d6b13bff65b8e7aa95", "interface": "internal", "region_id": "RegionOne", "url": "http://192.168.1.10:8776/v3/f282163e069840d08da907661a2ce609", "region": "RegionOne"}, {"id": "b9e177c8435f4c70ba3ed7fcc8ef8e05", "interface": "admin", "region_id": "RegionOne", "url": "http://192.168.1.10:8776/v3/f282163e069840d08da907661a2ce609", "region": "RegionOne"}, {"id": "c76a8dd1dfb74b009bb7cf523ecbd465", "interface": "public", "region_id": "RegionOne", "url": "https://10.213.43.158:8776/v3/f282163e069840d08da907661a2ce609", "region": "RegionOne"}], "id": "3acd20f57cbc4cd085e2377af0a36808", "type": "volumev3", "name": "cinderv3"}, {"endpoints": [{"id": "2a3b2885ea104489bf908bce857a9db7", "interface": "admin", "region_id": "RegionOne", "url": "http://192.168.1.10:9292", "region": "RegionOne"}, {"id": "89a33ec8910d4b33b5064a9a06bd50db", "interface": "internal", "region_id": "RegionOne", "url": "http://192.168.1.10:9292", "region": "RegionOne"}, {"id": "a0d74e9cf7e94c20a731c34b50616a30", "interface": "public", "region_id": "RegionOne", "url": "https://10.213.43.158:9292", "region": "RegionOne"}], "id": "49e4e2d913374483a049198ee0caf8aa", "type": "image", "name": "glance"}, {"endpoints": [{"id": "3b54a2b678034122a4de8e1955074764", "interface": "public", "region_id": "RegionOne", "url": "https://10.213.43.158:8780", "region": "RegionOne"}, {"id": "b268c5e4e3fb4f6ca34acd525fb2fa76", "interface": "admin", "region_id": "RegionOne", "url": "http://192.168.1.10:8780", "region": "RegionOne"}, {"id": "fba23519a9a146fc873bbb8c2244b8fd", "interface": "internal", "region_id": "RegionOne", "url": "http://192.168.1.10:8780", "region": "RegionOne"}], "id": "7ca23b136aa045b18ec54598b5c204c6", "type": "placement", "name": "placement"}, {"endpoints": [], "id": "934485445b4f4206bcfda0d8107f5b81", "type": "network2", "name": "neutron"}, {"endpoints": [{"id": "28b908714dfd473f98f5a53b89f3c57e", "interface": "internal", "region_id": "RegionOne", "url": "http://192.168.1.10:5000", "region": "RegionOne"}, {"id": "2f91e3268b4745209c5130c35eb86ce8", "interface": "admin", "region_id": "RegionOne", "url": "http://192.168.1.10:5000", "region": "RegionOne"}, {"id": "52282c7a0ca5490e8a51966055a2a15d", "interface": "public", "region_id": "RegionOne", "url": "https://10.213.43.158:5000", "region": "RegionOne"}], "id": "b27d8c5e6ac84841a17137628bdf5201", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "25e595a917674760b3c23983dbb024f4", "interface": "public", "region_id": "RegionOne", "url": "http://10.213.43.161:30004", "region": "RegionOne"}, {"id": "49b8f63473204d3ca9244f0325148f31", "interface": "internal", "region_id": "RegionOne", "url": "http://10.213.43.161:30004", "region": "RegionOne"}, {"id": "a1185298671044af9cdc80a2e09ab9a9", "interface": "admin", "region_id": "RegionOne", "url": "http://10.213.43.161:30004", "region": "RegionOne"}], "id": "b59a226254af40bbbd60891fe07b6e18", "type": "network", "name": "alcor"}, {"endpoints": [{"id": "87e56fe09b59417f9de160253d9e66d6", "interface": "internal", "region_id": "RegionOne", "url": "http://192.168.1.10:8774/v2.1", "region": "RegionOne"}, {"id": "a4970d68890e43ddba91b0a07736a999", "interface": "public", "region_id": "RegionOne", "url": "https://10.213.43.158:8774/v2.1", "region": "RegionOne"}, {"id": "dd24fed5954e495fbd283add3c4c90f5", "interface": "admin", "region_id": "RegionOne", "url": "http://192.168.1.10:8774/v2.1", "region": "RegionOne"}], "id": "be70f52297614ac5bb4fe6e240ad2b3e", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "07735c63f1084064b7580265c0f08b7c", "interface": "admin", "region_id": "RegionOne", "url": "http://192.168.1.10:8776/v2/f282163e069840d08da907661a2ce609", "region": "RegionOne"}, {"id": "613e9437846b4dcc8c8138cbd48840f7", "interface": "public", "region_id": "RegionOne", "url": "https://10.213.43.158:8776/v2/f282163e069840d08da907661a2ce609", "region": "RegionOne"}, {"id": "7b2ad9e62b2245cf96d8101ee81842cf", "interface": "internal", "region_id": "RegionOne", "url": "http://192.168.1.10:8776/v2/f282163e069840d08da907661a2ce609", "region": "RegionOne"}], "id": "c63ff4254d7c4906a7e33f37b3ef73b2", "type": "volumev2", "name": "cinderv2"}]}}
REQ: curl -g -i -X GET http://192.168.1.10:8774/v2.1/servers/vmtest -H "Accept: application/json" -H "User-Agent: python-novaclient" -H "X-Auth-Token: {SHA256}eaf8eac941484f144e20c1695a335d118776c94f3179d6e29d3c1c811243fe16" -H "X-OpenStack-Nova-API-Version: 2.1"
Starting new HTTP connection (1): 192.168.1.10:8774
http://192.168.1.10:8774 "GET /v2.1/servers/vmtest HTTP/1.1" 404 81
RESP: [404] Connection: close Content-Length: 81 Content-Type: application/json; charset=UTF-8 OpenStack-API-Version: compute 2.1 Vary: OpenStack-API-Version, X-OpenStack-Nova-API-Version X-OpenStack-Nova-API-Version: 2.1 x-compute-request-id: req-5b752639-fc04-4276-a1d5-b32efc2c93fc x-openstack-request-id: req-5b752639-fc04-4276-a1d5-b32efc2c93fc
RESP BODY: {"itemNotFound": {"code": 404, "message": "Instance vmtest could not be found."}}
GET call to compute for http://192.168.1.10:8774/v2.1/servers/vmtest used request id req-5b752639-fc04-4276-a1d5-b32efc2c93fc
REQ: curl -g -i -X GET http://192.168.1.10:8774/v2.1/servers?name=vmtest -H "Accept: application/json" -H "User-Agent: python-novaclient" -H "X-Auth-Token: {SHA256}eaf8eac941484f144e20c1695a335d118776c94f3179d6e29d3c1c811243fe16" -H "X-OpenStack-Nova-API-Version: 2.1"
Resetting dropped connection: 192.168.1.10
http://192.168.1.10:8774 "GET /v2.1/servers?name=vmtest HTTP/1.1" 200 861
RESP: [200] Connection: close Content-Length: 861 Content-Type: application/json OpenStack-API-Version: compute 2.1 Vary: OpenStack-API-Version, X-OpenStack-Nova-API-Version X-OpenStack-Nova-API-Version: 2.1 x-compute-request-id: req-ff753eee-c09b-4e93-8e9b-d04a7c795dc4 x-openstack-request-id: req-ff753eee-c09b-4e93-8e9b-d04a7c795dc4
RESP BODY: {"servers": [{"id": "f46bf4db-818c-474f-adbf-725dd962e8e6", "name": "vmtest1", "links": [{"rel": "self", "href": "http://192.168.1.10:8774/v2.1/servers/f46bf4db-818c-474f-adbf-725dd962e8e6"}, {"rel": "bookmark", "href": "http://192.168.1.10:8774/servers/f46bf4db-818c-474f-adbf-725dd962e8e6"}]}, {"id": "69164f69-ca73-4648-8577-f850fdf2dc00", "name": "vmtest1", "links": [{"rel": "self", "href": "http://192.168.1.10:8774/v2.1/servers/69164f69-ca73-4648-8577-f850fdf2dc00"}, {"rel": "bookmark", "href": "http://192.168.1.10:8774/servers/69164f69-ca73-4648-8577-f850fdf2dc00"}]}, {"id": "4796a255-c62a-4eef-a6a5-56149b6de8d3", "name": "vmtest", "links": [{"rel": "self", "href": "http://192.168.1.10:8774/v2.1/servers/4796a255-c62a-4eef-a6a5-56149b6de8d3"}, {"rel": "bookmark", "href": "http://192.168.1.10:8774/servers/4796a255-c62a-4eef-a6a5-56149b6de8d3"}]}]}
GET call to compute for http://192.168.1.10:8774/v2.1/servers?name=vmtest used request id req-ff753eee-c09b-4e93-8e9b-d04a7c795dc4
REQ: curl -g -i -X GET http://192.168.1.10:8774/v2.1/servers/4796a255-c62a-4eef-a6a5-56149b6de8d3 -H "Accept: application/json" -H "User-Agent: python-novaclient" -H "X-Auth-Token: {SHA256}eaf8eac941484f144e20c1695a335d118776c94f3179d6e29d3c1c811243fe16" -H "X-OpenStack-Nova-API-Version: 2.1"
Resetting dropped connection: 192.168.1.10
http://192.168.1.10:8774 "GET /v2.1/servers/4796a255-c62a-4eef-a6a5-56149b6de8d3 HTTP/1.1" 200 1448
RESP: [200] Connection: close Content-Length: 1448 Content-Type: application/json OpenStack-API-Version: compute 2.1 Vary: OpenStack-API-Version, X-OpenStack-Nova-API-Version X-OpenStack-Nova-API-Version: 2.1 x-compute-request-id: req-612f2ebf-e5c5-4c4d-bd43-80aa7c96bdd6 x-openstack-request-id: req-612f2ebf-e5c5-4c4d-bd43-80aa7c96bdd6
RESP BODY: {"server": {"id": "4796a255-c62a-4eef-a6a5-56149b6de8d3", "name": "vmtest", "status": "ACTIVE", "tenant_id": "f282163e069840d08da907661a2ce609", "user_id": "b365dc4d276a4e588cb692d71199d390", "metadata": {}, "hostId": "769382717cb6ad899978979d5f6dd4928aba07b2bda50309ee760e45", "image": {"id": "b8b87764-0646-48ad-b5a5-481fb7de0b6c", "links": [{"rel": "bookmark", "href": "http://192.168.1.10:8774/images/b8b87764-0646-48ad-b5a5-481fb7de0b6c"}]}, "flavor": {"id": "8ccf29de-62ac-4589-9d6d-950226baa116", "links": [{"rel": "bookmark", "href": "http://192.168.1.10:8774/flavors/8ccf29de-62ac-4589-9d6d-950226baa116"}]}, "created": "2020-07-22T02:10:12Z", "updated": "2020-07-22T02:10:14Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://192.168.1.10:8774/v2.1/servers/4796a255-c62a-4eef-a6a5-56149b6de8d3"}, {"rel": "bookmark", "href": "http://192.168.1.10:8774/servers/4796a255-c62a-4eef-a6a5-56149b6de8d3"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "nova", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": "2020-07-22T02:00:45.000000", "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": "compute1", "OS-EXT-SRV-ATTR:instance_name": "instance-000000a5", "OS-EXT-SRV-ATTR:hypervisor_hostname": "compute1", "OS-EXT-STS:task_state": null, "OS-EXT-STS:vm_state": "active", "OS-EXT-STS:power_state": 1, "os-extended-volumes:volumes_attached": []}}
GET call to compute for http://192.168.1.10:8774/v2.1/servers/4796a255-c62a-4eef-a6a5-56149b6de8d3 used request id req-612f2ebf-e5c5-4c4d-bd43-80aa7c96bdd6
network endpoint in service catalog
Network client initialized using OpenStack SDK: <openstack.network.v2._proxy.Proxy object at 0x7f70a44a75f8>
REQ: curl -g -i -X GET http://10.213.43.161:30004/v2.0/ports/3fa6782e-2315-4420-b7ca-1691f129594a -H "User-Agent: openstacksdk/0.36.3 keystoneauth1/3.17.2 python-requests/2.22.0 CPython/3.6.9" -H "X-Auth-Token: {SHA256}eaf8eac941484f144e20c1695a335d118776c94f3179d6e29d3c1c811243fe16"
Starting new HTTP connection (1): 10.213.43.161:30004
http://10.213.43.161:30004 "GET /v2.0/ports/3fa6782e-2315-4420-b7ca-1691f129594a HTTP/1.1" 200 982
RESP: [200] Content-Length: 982 Content-Type: application/json;charset=ISO-8859-1 Date: Thu, 23 Jul 2020 23:10:39 GMT
RESP BODY: {"port":{"id":"3fa6782e-2315-4420-b7ca-1691f129594a","project_id":"f282163e-0698-40d0-8da9-07661a2ce609","tenant_id":"f282163e-0698-40d0-8da9-07661a2ce609","name":null,"description":null,"network_id":"9192a4d4-ffff-4ece-b3f0-8d36e3d88038","admin_state_up":true,"mac_address":"AA-BB-CC-D4-4E-4E","veth_name":null,"fast_path":false,"device_id":null,"device_owner":null,"status":null,"fixed_ips":[{"subnet_id":"9192a4d4-ffff-4ece-b3f0-8d36e3d88000","ip_address":"10.0.0.4"}],"allowed_address_pairs":[],"extra_dhcp_opts":[],"security_groups":[],"binding:host_id":null,"binding:profile":{},"binding:vif_details":{},"binding:vif_type":null,"binding:vnic_type":null,"network_ns":null,"dns_name":null,"dns_domain":null,"dns_assignment":{},"create_at":null,"update_at":null,"ip_allocation":null,"port_security_enabled":false,"qos_network_policy_id":null,"qos_policy_id":null,"revision_number":0,"resource_request":{},"tags":[],"uplink_status_propagation":false,"mac_learning_enabled":false}}
REQ: curl -g -i -X POST http://192.168.1.10:8774/v2.1/servers/4796a255-c62a-4eef-a6a5-56149b6de8d3/os-interface -H "Accept: application/json" -H "Content-Type: application/json" -H "User-Agent: python-novaclient" -H "X-Auth-Token: {SHA256}eaf8eac941484f144e20c1695a335d118776c94f3179d6e29d3c1c811243fe16" -H "X-OpenStack-Nova-API-Version: 2.1" -d '{"interfaceAttachment": {"port_id": "3fa6782e-2315-4420-b7ca-1691f129594a"}}'
Resetting dropped connection: 192.168.1.10
http://192.168.1.10:8774 "POST /v2.1/servers/4796a255-c62a-4eef-a6a5-56149b6de8d3/os-interface HTTP/1.1" 400 147
RESP: [400] Connection: close Content-Length: 147 Content-Type: application/json; charset=UTF-8 OpenStack-API-Version: compute 2.1 Vary: OpenStack-API-Version, X-OpenStack-Nova-API-Version X-OpenStack-Nova-API-Version: 2.1 x-compute-request-id: req-f261e120-0a3a-4c39-8987-ea65ff586f7f x-openstack-request-id: req-f261e120-0a3a-4c39-8987-ea65ff586f7f
RESP BODY: {"badRequest": {"code": 400, "message": "Port 3fa6782e-2315-4420-b7ca-1691f129594a not usable for instance 4796a255-c62a-4eef-a6a5-56149b6de8d3."}}
POST call to compute for http://192.168.1.10:8774/v2.1/servers/4796a255-c62a-4eef-a6a5-56149b6de8d3/os-interface used request id req-f261e120-0a3a-4c39-8987-ea65ff586f7f
Port 3fa6782e-2315-4420-b7ca-1691f129594a not usable for instance 4796a255-c62a-4eef-a6a5-56149b6de8d3. (HTTP 400) (Request-ID: req-f261e120-0a3a-4c39-8987-ea65ff586f7f)
Traceback (most recent call last):
  File "/openstack/venvs/utility-20.1.1/lib/python3.6/site-packages/cliff/app.py", line 401, in run_subcommand
    result = cmd.run(parsed_args)
  File "/openstack/venvs/utility-20.1.1/lib/python3.6/site-packages/osc_lib/command/command.py", line 41, in run
    return super(Command, self).run(parsed_args)
  File "/openstack/venvs/utility-20.1.1/lib/python3.6/site-packages/cliff/command.py", line 185, in run
    return_code = self.take_action(parsed_args) or 0
  File "/openstack/venvs/utility-20.1.1/lib/python3.6/site-packages/openstackclient/compute/v2/server.py", line 359, in take_action
    server.interface_attach(port_id=port_id, net_id=None, fixed_ip=None)
  File "/openstack/venvs/utility-20.1.1/lib/python3.6/site-packages/novaclient/api_versions.py", line 393, in substitution
    return methods[-1].func(obj, *args, **kwargs)
  File "/openstack/venvs/utility-20.1.1/lib/python3.6/site-packages/novaclient/v2/servers.py", line 613, in interface_attach
    return self.manager.interface_attach(self, port_id, net_id, fixed_ip)
  File "/openstack/venvs/utility-20.1.1/lib/python3.6/site-packages/novaclient/api_versions.py", line 393, in substitution
    return methods[-1].func(obj, *args, **kwargs)
  File "/openstack/venvs/utility-20.1.1/lib/python3.6/site-packages/novaclient/v2/servers.py", line 2067, in interface_attach
    obj_class=NetworkInterface)
  File "/openstack/venvs/utility-20.1.1/lib/python3.6/site-packages/novaclient/base.py", line 364, in _create
    resp, body = self.api.client.post(url, body=body)
  File "/openstack/venvs/utility-20.1.1/lib/python3.6/site-packages/keystoneauth1/adapter.py", line 392, in post
    return self.request(url, 'POST', **kwargs)
  File "/openstack/venvs/utility-20.1.1/lib/python3.6/site-packages/novaclient/client.py", line 78, in request
    raise exceptions.from_response(resp, body, url, method)
novaclient.exceptions.BadRequest: Port 3fa6782e-2315-4420-b7ca-1691f129594a not usable for instance 4796a255-c62a-4eef-a6a5-56149b6de8d3. (HTTP 400) (Request-ID: req-f261e120-0a3a-4c39-8987-ea65ff586f7f)
clean_up AddPort: Port 3fa6782e-2315-4420-b7ca-1691f129594a not usable for instance 4796a255-c62a-4eef-a6a5-56149b6de8d3. (HTTP 400) (Request-ID: req-f261e120-0a3a-4c39-8987-ea65ff586f7f)
Traceback (most recent call last):
  File "/openstack/venvs/utility-20.1.1/lib/python3.6/site-packages/osc_lib/shell.py", line 136, in run
    ret_val = super(OpenStackShell, self).run(argv)
  File "/openstack/venvs/utility-20.1.1/lib/python3.6/site-packages/cliff/app.py", line 281, in run
    result = self.run_subcommand(remainder)
  File "/openstack/venvs/utility-20.1.1/lib/python3.6/site-packages/osc_lib/shell.py", line 176, in run_subcommand
    ret_value = super(OpenStackShell, self).run_subcommand(argv)
  File "/openstack/venvs/utility-20.1.1/lib/python3.6/site-packages/cliff/app.py", line 401, in run_subcommand
    result = cmd.run(parsed_args)
  File "/openstack/venvs/utility-20.1.1/lib/python3.6/site-packages/osc_lib/command/command.py", line 41, in run
    return super(Command, self).run(parsed_args)
  File "/openstack/venvs/utility-20.1.1/lib/python3.6/site-packages/cliff/command.py", line 185, in run
    return_code = self.take_action(parsed_args) or 0
  File "/openstack/venvs/utility-20.1.1/lib/python3.6/site-packages/openstackclient/compute/v2/server.py", line 359, in take_action
    server.interface_attach(port_id=port_id, net_id=None, fixed_ip=None)
  File "/openstack/venvs/utility-20.1.1/lib/python3.6/site-packages/novaclient/api_versions.py", line 393, in substitution
    return methods[-1].func(obj, *args, **kwargs)
  File "/openstack/venvs/utility-20.1.1/lib/python3.6/site-packages/novaclient/v2/servers.py", line 613, in interface_attach
    return self.manager.interface_attach(self, port_id, net_id, fixed_ip)
  File "/openstack/venvs/utility-20.1.1/lib/python3.6/site-packages/novaclient/api_versions.py", line 393, in substitution
    return methods[-1].func(obj, *args, **kwargs)
  File "/openstack/venvs/utility-20.1.1/lib/python3.6/site-packages/novaclient/v2/servers.py", line 2067, in interface_attach
    obj_class=NetworkInterface)
  File "/openstack/venvs/utility-20.1.1/lib/python3.6/site-packages/novaclient/base.py", line 364, in _create
    resp, body = self.api.client.post(url, body=body)
  File "/openstack/venvs/utility-20.1.1/lib/python3.6/site-packages/keystoneauth1/adapter.py", line 392, in post
    return self.request(url, 'POST', **kwargs)
  File "/openstack/venvs/utility-20.1.1/lib/python3.6/site-packages/novaclient/client.py", line 78, in request
    raise exceptions.from_response(resp, body, url, method)
novaclient.exceptions.BadRequest: Port 3fa6782e-2315-4420-b7ca-1691f129594a not usable for instance 4796a255-c62a-4eef-a6a5-56149b6de8d3. (HTTP 400) (Request-ID: req-f261e120-0a3a-4c39-8987-ea65ff586f7f)
 
END return value: 1
 
